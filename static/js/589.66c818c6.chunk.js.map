{"version":3,"file":"static/js/589.66c818c6.chunk.js","mappings":"sNAOe,SAASA,IACtB,IAAI,KAAEC,EAAI,GAAEC,IAAOC,EAAAA,EAAAA,KACnB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,KAAaC,IAAK,IAAAC,EAAA,OACP,QADOA,EACrCD,EAAME,SAASC,UAAUZ,UAAK,IAAAU,OAAA,EAA9BA,EAAgCG,QAAQC,MACrCC,GAAUA,EAAMC,UAAYf,GAC9B,IAEGgB,GAAaT,EAAAA,EAAAA,KAAaC,GAAUA,EAAMS,IAAIC,aAC9CC,GAAgBZ,EAAAA,EAAAA,KAAaC,GAAUA,EAAMY,SAASA,WACtDC,GAAmBd,EAAAA,EAAAA,KACtBC,GAAUA,EAAMc,YAAYC,mBAAmBvB,KAGlD,IAAIwB,GAAa,EAEbL,EAAcH,EAAWS,SAC4C,IAAnEN,EAAcH,EAAWS,MAAMC,QAAoB,OAAZpB,QAAY,IAAZA,OAAY,EAAZA,EAAcS,WACvDS,GAAa,GAEXH,IAEuE,IAAvEF,EAAcH,EAAWS,MAAMC,QAAwB,OAAhBL,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBN,WAEzDS,GAAa,IAKnB,MAAM,KAAEG,EAAI,MAAEC,EAAK,WAAEC,IAAeC,EAAAA,EAAAA,IAClC,4CAA8C9B,EAC9C,CAAE+B,OAAQzB,KAAkBe,IAc9B,OAXAW,EAAAA,EAAAA,YAAU,KACJL,GACFzB,GAAS+B,EAAAA,EAAAA,IAAiBN,GAC5B,GACC,CAACA,KACJK,EAAAA,EAAAA,YAAU,KACJJ,GACFxB,EAAS,IACX,GACC,CAACwB,KAGFM,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGR,GACCM,EAAAA,EAAAA,KAAA,KACEG,MAAO,CAAEC,MAAO,eAAgBC,UAAW,SAAUC,UAAW,IAAKJ,SACtE,8BAGCP,GACFK,EAAAA,EAAAA,KAAA,KACEG,MAAO,CAAEC,MAAO,eAAgBC,UAAW,SAAUC,UAAW,IAAKJ,SACtE,gBAIDF,EAAAA,EAAAA,KAACO,EAAAA,GAAe,CACdd,KAAMrB,GAAgBqB,GAAQN,EAC9BG,WAAYA,EACZR,WAAYA,KAKtB,C","sources":["Pages/product/ProductPage.jsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useGetFavoriteProductQuery } from \"../../features/baseApi\";\r\nimport { addToSingleStore } from \"../../features/singleProductStore\";\r\nimport { ProductPageData } from \"../../Components\";\r\n\r\nexport default function ProductPage() {\r\n  let { page, id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const productSlice = useSelector((state) =>\r\n    state.response.responses[page]?.results.find(\r\n      (value) => value.set_num === id\r\n    )\r\n  );\r\n  const loginSlice = useSelector((state) => state.log.loginState);\r\n  const favoriteSlice = useSelector((state) => state.favorite.favorite);\r\n  const singleStoreSlice = useSelector(\r\n    (state) => state.singleStore.singleProductStore[id]\r\n  );\r\n\r\n  let inFavorite = false;\r\n\r\n  if (favoriteSlice[loginSlice.user]) {\r\n    if (favoriteSlice[loginSlice.user].indexOf(productSlice?.set_num) !== -1) {\r\n      inFavorite = true;\r\n    }\r\n    if (singleStoreSlice) {\r\n      if (\r\n        favoriteSlice[loginSlice.user].indexOf(singleStoreSlice?.set_num) !== -1\r\n      ) {\r\n        inFavorite = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  const { data, error, isFetching } = useGetFavoriteProductQuery(\r\n    \"https://rebrickable.com/api/v3/lego/sets/\" + id,\r\n    { skip: !!productSlice || !!singleStoreSlice }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      dispatch(addToSingleStore(data));\r\n    }\r\n  }, [data]);\r\n  useEffect(() => {\r\n    if (error) {\r\n      navigate(\"*\");\r\n    }\r\n  }, [error]);\r\n\r\n  return (\r\n    <>\r\n      {error ? (\r\n        <p\r\n          style={{ color: \"var(--green)\", textAlign: \"center\", marginTop: 20 }}\r\n        >\r\n          Oh no, there was an error\r\n        </p>\r\n      ) : isFetching ? (\r\n        <p\r\n          style={{ color: \"var(--green)\", textAlign: \"center\", marginTop: 20 }}\r\n        >\r\n          Loading...\r\n        </p>\r\n      ) : (\r\n        <ProductPageData\r\n          data={productSlice || data || singleStoreSlice}\r\n          inFavorite={inFavorite}\r\n          loginSlice={loginSlice}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["ProductPage","page","id","useParams","dispatch","useDispatch","navigate","useNavigate","productSlice","useSelector","state","_state$response$respo","response","responses","results","find","value","set_num","loginSlice","log","loginState","favoriteSlice","favorite","singleStoreSlice","singleStore","singleProductStore","inFavorite","user","indexOf","data","error","isFetching","useGetFavoriteProductQuery","skip","useEffect","addToSingleStore","_jsx","_Fragment","children","style","color","textAlign","marginTop","ProductPageData"],"sourceRoot":""}